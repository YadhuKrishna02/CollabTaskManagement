import{c as he,r as u,u as v,a as O,b as q,q as _,d as k,I as we,U as T,l as ve,C as I,e as Ne,h as W,H as Te,B as Se,R as e,f as ce,M as Re,g as Ae,F as ie,L as ke,i as x,j as _e,k as H,m as U,$ as B,n as oe,o as De,p as G,s as Y,t as X,v as Ce,w as Pe,x as je,y as Fe,z as Ie,A as Oe,G as Ze,_ as L,D as C,E as me,J as de,K as M,N as Me,O as Be,P as Le,Q as qe,S as Ue,T as $e,V as ze,W as Ke,X as Je,Y as We,Z as He,a0 as Ge,a1 as Ye,a2 as Xe,a3 as Qe,a4 as Ve,a5 as et,a6 as tt,a7 as at,a8 as lt,a9 as st,aa as nt,ab as rt,ac as ct,ad as j,ae as ue,af as it,ag as ot,ah as mt,ai as dt,aj as ut,ak as pt,al as ft,am as gt,an as bt,ao as xt,ap as Et}from"./vendor-TKjk_dJJ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function c(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=c(l);fetch(l.href,o)}})();const yt=[{_id:"65c5f12ab5204a81bde866a9",title:"Test task",date:"2024-02-09T00:00:00.000Z",priority:"high",stage:"todo",assets:["https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707471138863original-a005132062ca5bafc505c4c74f0e1865.jpg?alt=media&token=55f909f2-7f05-42f3-af4f-dc7f87cdea1d","https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707471144712PsZch9E1_400x400.jpg?alt=media&token=7ce62c7e-c240-4032-83c6-bb6c9cdc0d4b"],team:[{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave Asante",title:"Administrator",email:"admin@gmail.com"},{_id:"65c30b96e639681a13def0b5",name:"Jane Smith",title:"Product Manager",email:"jane.smith@example.com"},{_id:"65c317360fd860f958baa08e",name:"Alex Johnson",title:"UX Designer",email:"alex.johnson@example.com"}],isTrashed:!1,activities:[],subTasks:[{title:"Task manager youtube tutorial",date:"2024-02-09T00:00:00.000Z",tag:"tutorial",_id:"65c5f153b5204a81bde866c8"}],createdAt:"2024-02-09T09:32:26.574Z",updatedAt:"2024-02-09T09:36:53.339Z",__v:1},{_id:"65c5d547660756f6fd453a7a",title:"Duplicate - Duplicate - Review Code Changes",date:"2024-02-09T00:00:00.000Z",priority:"medium",stage:"in progress",assets:[],team:[{_id:"65c317360fd860f958baa08e",name:"Alex Johnson",title:"UX Designer",email:"alex.johnson@example.com"},{_id:"65c3176a0fd860f958baa099",name:"Emily Wilson",title:"Data Analyst",email:"emily.wilson@example.com"}],isTrashed:!1,activities:[{type:"started",activity:"Project started",date:"2024-02-09T09:16:56.623Z",by:"65c202d4aa62f32ffd1303cc",_id:"65c5f18bb5204a81bde866d1"},{type:"commented",activity:"i like coding!!",date:"2024-02-09T09:16:56.623Z",by:"65c202d4aa62f32ffd1303cc",_id:"65c5f19eb5204a81bde866dd"},{type:"bug",activity:"bug found",date:"2024-02-09T09:16:56.623Z",by:"65c202d4aa62f32ffd1303cc",_id:"65c5f1abb5204a81bde866eb"}],subTasks:[{title:"Blog App Admin Dashboard",date:"2024-02-08T00:00:00.000Z",tag:"Website App",_id:"65c3535476ed5c48f9440973"}],createdAt:"2024-02-09T07:33:27.590Z",updatedAt:"2024-02-09T09:36:10.386Z",__v:4},{_id:"65c46026af6ec0118be9407a",title:"Website Project Proposal Review",date:"2024-02-07T00:00:00.000Z",priority:"high",stage:"todo",assets:["https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707410130023hand-holding-writing-checklist-application-form-document-clipboard-white-background-3d-illustration.jpg?alt=media&token=08de4848-517f-48ca-a9b4-624744d5ddb0","https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412301523image_processing20220706-26930-ktfgon.png?alt=media&token=6cd185c1-9fc3-4f52-bb0b-0d4a29e65b85","https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412306237image_processing20220706-11953-1f826f4.png?alt=media&token=7270475f-a994-41fd-8ae6-62e00f72b0b3"],team:[{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave Asante",title:"Administrator",email:"admin@gmail.com"},{_id:"65c27a0e18c0a1b750ad5cad",name:"John Doe",title:"Software Engineer",email:"john.doe@example.com"},{_id:"65c30b96e639681a13def0b5",name:"Jane Smith",title:"Product Manager",email:"jane.smith@example.com"}],isTrashed:!1,activities:[{type:"assigned",activity:"Test activity. Let's go!!!",date:"2024-02-08T17:55:34.353Z",by:"65c202d4aa62f32ffd1303cc",_id:"65c5188be1585cfa650b79c4"},{type:"in progress",activity:"Project is progress. Hiope to fin=ish soon!!",date:"2024-02-08T17:55:34.353Z",by:"65c202d4aa62f32ffd1303cc",_id:"65c518dce1585cfa650b79da"},{type:"bug",activity:"Bug found in the code. Kindly check and fixed ASAP!!!",date:"2024-02-08T18:13:14.717Z",by:"65c202d4aa62f32ffd1303cc",_id:"65c51a5e8064df97d208b392"},{type:"commented",activity:"Nice work. Let's finished hard!!!",date:"2024-02-08T18:13:14.717Z",by:"65c202d4aa62f32ffd1303cc",_id:"65c51af08064df97d208b3b0"}],subTasks:[{title:"Blog App Dashboard",date:"2024-02-06T00:00:00.000Z",tag:"Design",_id:"65c352e776ed5c48f944095c"},{title:"Blog App Admin Dashboard",date:"2024-02-07T00:00:00.000Z",tag:"Design",_id:"65c3531476ed5c48f9440965"}],createdAt:"2024-02-08T05:01:26.983Z",updatedAt:"2024-02-09T06:51:15.005Z",__v:8},{_id:"65c45fb6af6ec0118be94052",title:"Task Manager Youtube Video",date:"2024-02-11T00:00:00.000Z",priority:"medium",stage:"completed",assets:["https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412043078report.jpg?alt=media&token=41d02b42-c25c-4fbb-90a9-340a45f4bbe1","https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412052287hand-holding-writing-checklist-application-form-document-clipboard-white-background-3d-illustration.jpg?alt=media&token=98b360b4-954c-47e3-8283-8228a54a327c"],team:[{_id:"65c317360fd860f958baa08e",name:"Alex Johnson",title:"UX Designer",email:"alex.johnson@example.com"},{_id:"65c3176a0fd860f958baa099",name:"Emily Wilson",title:"Data Analyst",email:"emily.wilson@example.com"}],isTrashed:!1,activities:[{type:"started",activity:"Project completed!!",date:"2024-02-08T18:13:14.717Z",by:{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave"},_id:"65c51b998064dfd208b3f9"},{type:"commented",activity:"Project completed!!",date:"2024-02-08T18:13:14.717Z",by:{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave"},_id:"65c51b98064df97d208b3f9"},{type:"completed",activity:"Project completed!!",date:"2024-02-08T18:13:14.717Z",by:{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave"},_id:"65c51b998064df97d208b3f9"}],subTasks:[{title:"Blog App Admin Dashboard",date:"2024-02-08T00:00:00.000Z",tag:"Website App",_id:"65c3535476ed5c48f9440973"}],createdAt:"2024-02-08T04:59:34.826Z",updatedAt:"2024-02-09T06:51:15.005Z",__v:3},{_id:"65c4586f0548279012f8c256",title:"Bug Fixing",date:"2024-02-07T00:00:00.000Z",priority:"high",stage:"todo",assets:["https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412457946Wed%20Dev%20Course.png?alt=media&token=028416bf-88c6-4738-9a5a-d90e6d53b202","https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412466672original-380755132e03e80a9fa3ef1203219cf3.png?alt=media&token=10d96b0d-feea-4627-aa1e-9b8f87cf7500","https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412469358original-a738b8d0cbced29ae8609072d006fbcb.jpg?alt=media&token=9a6cc56f-63ff-4405-b978-d962c3c1f1d0","https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412472346cosial.png?alt=media&token=b6e427b3-bc36-4fa2-a8f9-438f9ebf93e2","https://firebasestorage.googleapis.com/v0/b/taskmanager-557d7.appspot.com/o/1707412478590original-a005132062ca5bafc505c4c74f0e1865.jpg?alt=media&token=e81047bd-a1e2-49e5-85f5-feda31c423f2"],team:[{_id:"65c30b96e639681a13def0b5",name:"Jane Smith",title:"Product Manager",email:"jane.smith@example.com"},{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave Asante",title:"Administrator",email:"admin@gmail.com"},{_id:"65c317360fd860f958baa08e",name:"Alex Johnson",title:"UX Designer",email:"alex.johnson@example.com"}],isTrashed:!1,activities:[{type:"commented",activity:"Great!!!",date:"2024-02-08T18:13:14.717Z",by:"65c202d4aa62f32ffd1303cc",_id:"65c51b678064df97d208b3d6"}],subTasks:[{title:"Check Login code and fix bugs asap",date:"2024-02-08T00:00:00.000Z",tag:"Bug Fixing",_id:"65c46074af6ec0118be94094"}],createdAt:"2024-02-08T04:28:31.966Z",updatedAt:"2024-02-09T06:51:15.005Z",__v:3},{_id:"65c3c457fb9c6768ce4bc31a",title:"Duplicate - Website Project Proposal",date:"2024-02-07T17:55:13.218Z",priority:"high",stage:"todo",assets:[],team:[{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave Asante",title:"Administrator",email:"admin@gmail.com"},{_id:"65c27a0e18c0a1b750ad5cad",name:"John Doe",title:"Software Engineer",email:"john.doe@example.com"},{_id:"65c30b96e639681a13def0b5",name:"Jane Smith",title:"Product Manager",email:"jane.smith@example.com"}],isTrashed:!1,activities:[],subTasks:[{title:"Blog App Dashboard",date:"2024-02-06T00:00:00.000Z",tag:"Design",_id:"65c352e776ed5c48f944095c"},{title:"Blog App Admin Dashboard",date:"2024-02-07T00:00:00.000Z",tag:"Design",_id:"65c3531476ed5c48f9440965"}],createdAt:"2024-02-07T17:56:39.969Z",updatedAt:"2024-02-09T06:51:15.005Z",__v:1},{_id:"65c3c439fb9c6768ce4bc308",title:"Duplicate - Review Code Changes",date:"2024-02-07T17:55:13.218Z",priority:"medium",stage:"in progress",assets:[],team:[{_id:"65c317360fd860f958baa08e",name:"Alex Johnson",title:"UX Designer",email:"alex.johnson@example.com"},{_id:"65c3176a0fd860f958baa099",name:"Emily Wilson",title:"Data Analyst",email:"emily.wilson@example.com"}],isTrashed:!1,activities:[],subTasks:[{title:"Blog App Admin Dashboard",date:"2024-02-08T00:00:00.000Z",tag:"Website App",_id:"65c3535476ed5c48f9440973"}],createdAt:"2024-02-07T17:56:09.174Z",updatedAt:"2024-02-07T17:56:09.456Z",__v:1},{_id:"65c3c21f55ae9b2f7666e86c",title:"Duplicate - Website Project Proposal",date:"2024-02-07T17:46:56.040Z",priority:"normal",stage:"todo",assets:[],team:[{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave Asante",title:"Administrator",email:"admin@gmail.com"},{_id:"65c27a0e18c0a1b750ad5cad",name:"John Doe",title:"Software Engineer",email:"john.doe@example.com"},{_id:"65c30b96e639681a13def0b5",name:"Jane Smith",title:"Product Manager",email:"jane.smith@example.com"}],isTrashed:!1,activities:[],subTasks:[{title:"Blog App Dashboard",date:"2024-02-06T00:00:00.000Z",tag:"Design",_id:"65c352e776ed5c48f944095c"},{title:"Blog App Admin Dashboard",date:"2024-02-07T00:00:00.000Z",tag:"Design",_id:"65c3531476ed5c48f9440965"}],createdAt:"2024-02-07T17:47:11.560Z",updatedAt:"2024-02-07T17:47:11.972Z",__v:1},{_id:"65c352b376ed5c48f9440955",title:"Review Code Changes",date:"2024-02-05T00:00:00.000Z",priority:"medium",stage:"in progress",assets:[],team:[{_id:"65c317360fd860f958baa08e",name:"Alex Johnson",title:"UX Designer",email:"alex.johnson@example.com"},{_id:"65c3176a0fd860f958baa099",name:"Emily Wilson",title:"Data Analyst",email:"emily.wilson@example.com"}],isTrashed:!1,activities:[],subTasks:[{title:"Blog App Admin Dashboard",date:"2024-02-08T00:00:00.000Z",tag:"Website App",_id:"65c3535476ed5c48f9440973"}],createdAt:"2024-02-07T09:51:47.149Z",updatedAt:"2024-02-07T09:54:28.645Z",__v:1},{_id:"65c351b976ed5c48f9440947",title:"Website Project Proposal",date:"2024-02-07T00:00:00.000Z",priority:"high",stage:"todo",assets:[],team:[{_id:"65c202d4aa62f32ffd1303cc",name:"Codewave Asante",title:"Administrator",email:"admin@gmail.com"},{_id:"65c27a0e18c0a1b750ad5cad",name:"John Doe",title:"Software Engineer",email:"john.doe@example.com"},{_id:"65c30b96e639681a13def0b5",name:"Jane Smith",title:"Product Manager",email:"jane.smith@example.com"}],isTrashed:!1,activities:[],subTasks:[{title:"Blog App Dashboard",date:"2024-02-06T00:00:00.000Z",tag:"Design",_id:"65c352e776ed5c48f944095c"},{title:"Blog App Admin Dashboard",date:"2024-02-07T00:00:00.000Z",tag:"Design",_id:"65c3531476ed5c48f9440965"}],createdAt:"2024-02-07T09:47:37.337Z",updatedAt:"2024-02-07T09:53:24.079Z",__v:2}];new Date("2023-01-15").toISOString(),new Date("2023-01-15").toISOString(),new Date("2023-01-15").toISOString(),new Date("2024-01-15").toISOString(),new Date("2023-01-15").toISOString(),new Date("2023-01-15").toISOString();const ht={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,isSidebarOpen:!1},pe=he({name:"auth",initialState:ht,reducers:{setCredentials:(t,s)=>{t.user=s.payload.user,t.token=s.payload.token,localStorage.setItem("user",JSON.stringify(s.payload.user)),localStorage.setItem("token",s.payload.token)},logout:t=>{t.user=null,t.token=null,localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("notifications")},setOpenSidebar:(t,s)=>{t.isSidebarOpen=s.payload}}}),{setCredentials:fe,logout:wt,setOpenSidebar:Q}=pe.actions,vt=pe.reducer,Nt=t=>{const s=t.toLocaleString("en-US",{month:"short"}),c=t.getDate(),a=t.getFullYear();return`${c}-${s}-${a}`};function Z(t){return t.split(" ").slice(0,2).map(l=>l[0].toUpperCase()).join("")}const V={high:"text-red-600",medium:"text-yellow-600",low:"text-blue-600"},ee={pending:"bg-blue-600","in progress":"bg-yellow-600",completed:"bg-green-600"},F=["bg-blue-600","bg-yellow-600","bg-red-600","bg-green-600"],Tt=()=>{u.useState(!1),u.useState(!1);const{user:t}=v(a=>a.auth),s=O();q();const c=()=>{T.success("Logged out successfully",{position:"top-center",duration:2e3}),s(wt())};return React.createElement(React.Fragment,null,React.createElement("div",null,React.createElement(_,{as:"div",className:"relative inline-block text-left"},React.createElement("div",null,React.createElement(_.Button,{className:"w-10 h-10 2xl:w-12 2xl:h-12 items-center justify-center rounded-full bg-blue-600"},React.createElement("span",{className:"text-white font-semibold"},Z(t==null?void 0:t.name)))),React.createElement(k,{as:u.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},React.createElement(_.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right divide-gray-100 rounded-md bg-white shadow-2xl ring-1 ring-black/5 focus:outline-none"},React.createElement("div",{className:"p-4"},React.createElement(_.Item,null,({active:a})=>React.createElement("button",{onClick:c,className:"text-red-600 group flex w-full items-center rounded-md px-2 py-2 text-base"},React.createElement(we,{className:"mr-2","aria-hidden":"true"}),"Logout"))))))))},St={alert:React.createElement(Te,{className:"h-5 w-5 text-gray-600 group-hover:text-indigo-600"}),message:React.createElement(Se,{className:"h-5 w-5 text-gray-600 group-hover:text-indigo-600"})},Rt=()=>{u.useState(!1),u.useState(null);const[t,s]=u.useState(null),[c,a]=u.useState([]),{user:l}=v(i=>i.auth);u.useEffect(()=>{const i=ve("http://localhost:4000",{transports:["websocket"]});return s(i),()=>{i.disconnect()}},[]),u.useEffect(()=>{t&&t.on("taskStatusUpdated",i=>{if(console.log(i,"payyy"),console.log(l._id,"user id"),i.updatedFields.assignedUsers.includes(l._id)||l.role=="admin"){const m={_id:i.taskId,text:`Task status updated: ${i.updatedFields.status} for task ${i.updatedFields.title}`,notiType:"alert",createdAt:new Date().toISOString()},n=[...c,m];localStorage.setItem("notifications",JSON.stringify(n)),a(n)}})},[t,c]),u.useEffect(()=>{const i=JSON.parse(localStorage.getItem("notifications"))||[];a(i)},[]);const o=()=>{};return React.createElement(React.Fragment,null,React.createElement(I,{className:"relative"},React.createElement(I.Button,{className:"inline-flex items-center outline-none"},React.createElement("div",{className:"w-8 h-8 flex items-center justify-center text-gray-800 relative"},React.createElement(Ne,{className:"text-2xl"}),(c==null?void 0:c.length)>0&&React.createElement("span",{className:"absolute text-center top-0 right-1 text-sm text-white font-semibold w-4 h-4 rounded-full bg-red-600"},c==null?void 0:c.length))),React.createElement(k,{as:u.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1"},React.createElement(I.Panel,{className:"absolute -right-16 md:-right-2 z-10 mt-5 flex w-screen max-w-max px-4"},({close:i})=>(c==null?void 0:c.length)>0&&React.createElement("main",{className:"flex flex-col rounded-3xl"},React.createElement("div",{className:"w-screen max-w-md flex-auto max-h-[400px] overflow-y-auto rounded-3xl bg-white text-sm leading-6 shadow-lg ring-1 ring-gray-900/5"},React.createElement("div",{className:"p-4"},c==null?void 0:c.map((m,n)=>React.createElement("div",{key:m._id+n,className:"group relative flex gap-x-4 rounded-lg p-4 hover:bg-gray-50"},React.createElement("div",{className:"mt-1 h-8 w-8 flex items-center justify-center rounded-lg bg-gray-200 group-hover:bg-white"},St[m.notiType]),React.createElement("div",{className:"cursor-pointer",onClick:()=>o()},React.createElement("div",{className:"flex items-center gap-3 font-semibold text-gray-900 capitalize"},React.createElement("p",null," ",m.notiType),React.createElement("span",{className:"text-xs font-normal lowercase"},W(m.createdAt).fromNow())),React.createElement("p",{className:"mt-1 text-gray-600 overflow-y-auto max-h-20"},m.text))))),React.createElement("div",{className:"p-3 bg-gray-50 flex justify-center"},React.createElement("button",{onClick:()=>i(),className:"px-4 py-2 font-semibold text-blue-600 bg-white rounded-lg shadow-sm hover:bg-gray-100"},"Cancel"))))))))},At=()=>{v(s=>s.auth);const t=O();return e.createElement("div",{className:"flex justify-between items-center bg-white px-4 py-3 2xl:py-4 sticky z-10 top-0"},e.createElement("div",{className:"flex gap-4"},e.createElement("button",{onClick:()=>t(Q(!0)),className:"text-2xl text-gray-500 block md:hidden"},"☰")),e.createElement("div",{className:"flex gap-2 items-center"},e.createElement(Rt,null),e.createElement(Tt,null)))},ae=[{label:"Dashboard",link:"dashboard",icon:e.createElement(Ae,null)},{label:"Tasks",link:"tasks",icon:e.createElement(ie,null)}],ge=()=>{const{user:t}=v(m=>m.auth),s=O(),a=ce().pathname.split("/")[1],l=t!=null&&t.isAdmin?ae:ae.slice(0,5),o=()=>{s(Q(!1))},i=({el:m})=>e.createElement(ke,{to:m.link,onClick:o,className:x("w-full lg:w-3/4 flex gap-2 px-3 py-2 rounded-full items-center text-gray-800 text-base hover:bg-[#2564ed2d]",a===m.link.split("/")[0]?"bg-blue-700 text-neutral-100":"")},m.icon,e.createElement("span",{className:"hover:text-[#2564ed]"},m.label));return e.createElement("div",{className:"w-full  h-full flex flex-col gap-6 p-5"},e.createElement("h1",{className:"flex gap-1 items-center"},e.createElement("img",{src:"./taj.png",className:"w-40 h-30 rounded-full",alt:"TajAlfahidiImage"})),e.createElement("div",{className:"flex-1 flex flex-col gap-y-5 py-8"},l.map(m=>e.createElement(i,{el:m,key:m.label}))),e.createElement("div",{className:""},e.createElement("button",{className:"w-full flex gap-2 p-2 items-center text-lg text-gray-800"},e.createElement(Re,null),e.createElement("span",null,"Settings"))))},D=e.forwardRef(({type:t,placeholder:s,label:c,className:a,register:l,name:o,error:i},m)=>e.createElement("div",{className:"w-full flex flex-col gap-1"},c&&e.createElement("label",{htmlFor:o,className:"text-slate-800"},c),e.createElement("div",null,e.createElement("input",{type:t,name:o,placeholder:s,ref:m,...l,"aria-invalid":i?"true":"false",className:x("bg-transparent px-3 py-2.5 2xl:py-3 border border-gray-300 placeholder-gray-400 text-gray-900 outline-none text-base focus:ring-2 ring-blue-300",a)})),i&&e.createElement("span",{className:"text-xs text-[#f64949fe] mt-0.5 "},i))),P=({icon:t,className:s,label:c,type:a,onClick:l=()=>{}})=>e.createElement("button",{type:a||"button",className:x("px-3 py-2 outline-none",s),onClick:l},e.createElement("span",null,c),t&&t),A=_e.create({baseURL:"http://localhost:4000/api/",timeout:1e4});A.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));const $=()=>React.createElement("div",{className:"dots-container"},React.createElement("div",{className:"dot"}),React.createElement("div",{className:"dot"}),React.createElement("div",{className:"dot"}),React.createElement("div",{className:"dot"}),React.createElement("div",{className:"dot"})),kt=()=>{const{user:t}=v(n=>n.auth),{register:s,handleSubmit:c,formState:{errors:a}}=H(),l=q(),o=O(),i=U({mutationFn:n=>A.post("auth/log-in",n),onSuccess:n=>{var r,p,g,E,S;n!=null&&n.data&&((r=n==null?void 0:n.data)==null?void 0:r.status)=="success"&&(o(fe({user:(g=(p=n.data)==null?void 0:p.data)==null?void 0:g.user,token:(S=(E=n.data)==null?void 0:E.data)==null?void 0:S.token})),T.success(n.data.message,{position:"top-center",duration:2e3}),l("/"))},onError:n=>{T.error(n.response.data.error,{position:"top-center",duration:2e3})}}),m=async n=>{i.mutate(n)};return u.useEffect(()=>{t&&l("/dashboard")},[t]),e.createElement("div",{className:"w-full min-h-screen flex items-center justify-center flex-col lg:flex-row bg-[#f3f4f6]"},e.createElement("div",{className:"w-full md:w-auto flex gap-0 md:gap-40 flex-col md:flex-row items-center justify-center"},e.createElement("div",{className:"h-full w-full lg:w-2/3 flex flex-col items-center justify-center"},e.createElement("div",{className:"w-full md:max-w-lg 2xl:max-w-3xl flex flex-col items-center justify-center gap-5 md:gap-y-10 2xl:-mt-20"},e.createElement("span",{className:"flex gap-1 py-1 px-3 border rounded-full text-sm md:text-base bordergray-300 text-gray-600"},"Manage all your task in one place!"),e.createElement("p",{className:"flex flex-col gap-0 md:gap-4 text-4xl md:text-6xl 2xl:text-7xl font-black text-center text-blue-700"},e.createElement("span",null,"Cloud-Based"),e.createElement("span",null,"Task Manager")),e.createElement("div",{className:"cell"},e.createElement("div",{className:"circle rotate-in-up-left"})))),e.createElement("div",{className:"w-full md:w-1/3 p-4 md:p-1 flex flex-col justify-center items-center"},e.createElement("form",{onSubmit:c(m),className:"form-container w-full md:w-[400px] flex flex-col gap-y-8 bg-white px-10 pt-14 pb-14"},e.createElement("div",{className:""},e.createElement("p",{className:"text-blue-600 text-3xl font-bold text-center"},"Welcome back!"),e.createElement("p",{className:"text-center text-base text-gray-700 "},"Keep all your credential safe.")),e.createElement("div",{className:"flex flex-col gap-y-5"},e.createElement(D,{placeholder:"email@example.com",type:"email",name:"email",label:"Email Address",className:"w-full rounded-full",register:s("email",{required:"Email Address is required!"}),error:a.email?a.email.message:""}),e.createElement(D,{placeholder:"your password",type:"password",name:"password",label:"Password",className:"w-full rounded-full",register:s("password",{required:"Password is required!"}),error:a.password?a.password.message:""}),i.isPending?e.createElement($,null):e.createElement(P,{type:"submit",label:"Submit",className:"w-full h-10 bg-blue-700 text-white rounded-full"}),e.createElement("span",{className:"text-sm text-gray-500 hover:text-blue-600 hover:underline cursor-pointer text-center",onClick:()=>l("/sign-up")},"Don't have an account? SignUp"))))))};function _t(...t){return t.filter(Boolean).join(" ")}function Dt({tabs:t,setSelected:s,children:c}){return React.createElement("div",{className:"w-full px-1 sm:px-0"},React.createElement(B.Group,null,React.createElement(B.List,{className:"flex space-x-6 rounded-xl p-1"},t.map((a,l)=>React.createElement(B,{key:a.title,onClick:()=>s(l),className:({selected:o})=>_t("w-fit flex items-center outline-none gap-2 px-3 py-2.5 text-base font-medium leading-5 bg-white",o?"text-blue-700  border-b-2 border-blue-600":"text-gray-800  hover:text-blue-800")},a.icon,React.createElement("span",null,a.title)))),React.createElement(B.Panels,{className:"w-full mt-2"},c)))}const Ct={high:e.createElement(G,null),medium:e.createElement(Y,null),low:e.createElement(X,null)},Pt={high:"bg-red-200",medium:"bg-yellow-200",low:"bg-blue-200"},jt=[{title:"Task Detail",icon:e.createElement(ie,null)},{title:"Activities/Timeline",icon:e.createElement(Ce,null)}],Ft={commented:e.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-500 flex items-center justify-center text-white"},e.createElement(Pe,null),","),started:e.createElement("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white"},e.createElement(je,{size:20})),assigned:e.createElement("div",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-gray-500 text-white"},e.createElement(Fe,{size:14})),bug:e.createElement("div",{className:"text-red-600"},e.createElement(Ie,{size:24})),completed:e.createElement("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center text-white"},e.createElement(Oe,{size:24})),"in progress":e.createElement("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-violet-600 text-white"},e.createElement(Ze,{size:16}))},le=["Started","Completed","In Progress","Commented","Bug","Assigned"],It=()=>{var l,o,i,m,n;const{id:t}=oe(),[s,c]=u.useState(0),a=yt[3];return e.createElement("div",{className:"w-full flex flex-col gap-3 mb-4 overflow-y-hidden"},e.createElement("h1",{className:"text-2xl text-gray-600 font-bold"},a==null?void 0:a.title),e.createElement(Dt,{tabs:jt,setSelected:c},s===0?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full flex flex-col md:flex-row gap-5 2xl:gap-8 bg-white shadow-md p-8 overflow-y-auto"},e.createElement("div",{className:"w-full md:w-1/2 space-y-8"},e.createElement("div",{className:"flex items-center gap-5"},e.createElement("div",{className:x("flex gap-1 items-center text-base font-semibold px-3 py-1 rounded-full",V[a==null?void 0:a.priority],Pt[a==null?void 0:a.priority])},e.createElement("span",{className:"text-lg"},Ct[a==null?void 0:a.priority]),e.createElement("span",{className:"uppercase"},a==null?void 0:a.priority," Priority")),e.createElement("div",{className:x("flex items-center gap-2")},e.createElement("div",{className:x("w-4 h-4 rounded-full",ee[a.stage])}),e.createElement("span",{className:"text-black uppercase"},a==null?void 0:a.stage))),e.createElement("p",{className:"text-gray-500"},"Created At: ",new Date(a==null?void 0:a.date).toDateString()),e.createElement("div",{className:"flex items-center gap-8 p-4 border-y border-gray-200"},e.createElement("div",{className:"space-x-2"},e.createElement("span",{className:"font-semibold"},"Assets :"),e.createElement("span",null,(l=a==null?void 0:a.assets)==null?void 0:l.length)),e.createElement("span",{className:"text-gray-400"},"|"),e.createElement("div",{className:"space-x-2"},e.createElement("span",{className:"font-semibold"},"Sub-Task :"),e.createElement("span",null,(o=a==null?void 0:a.subTasks)==null?void 0:o.length))),e.createElement("div",{className:"space-y-4 py-6"},e.createElement("p",{className:"text-gray-600 font-semibold test-sm"},"TASK TEAM"),e.createElement("div",{className:"space-y-3"},(i=a==null?void 0:a.team)==null?void 0:i.map((r,p)=>e.createElement("div",{key:p,className:"flex gap-4 py-2 items-center border-t border-gray-200"},e.createElement("div",{className:"w-10 h-10 rounded-full text-white flex items-center justify-center text-sm -mr-1 bg-blue-600"},e.createElement("span",{className:"text-center"},Z(r==null?void 0:r.name))),e.createElement("div",null,e.createElement("p",{className:"text-lg font-semibold"},r==null?void 0:r.name),e.createElement("span",{className:"text-gray-500"},r==null?void 0:r.title)))))),e.createElement("div",{className:"space-y-4 py-6"},e.createElement("p",{className:"text-gray-500 font-semibold text-sm"},"SUB-TASKS"),e.createElement("div",{className:"space-y-8"},(m=a==null?void 0:a.subTasks)==null?void 0:m.map((r,p)=>e.createElement("div",{key:p,className:"flex gap-3"},e.createElement("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-violet-50-200"},e.createElement(De,{className:"text-violet-600",size:26})),e.createElement("div",{className:"space-y-1"},e.createElement("div",{className:"flex gap-2 items-center"},e.createElement("span",{className:"text-sm text-gray-500"},new Date(r==null?void 0:r.date).toDateString()),e.createElement("span",{className:"px-2 py-0.5 text-center text-sm rounded-full bg-violet-100 text-violet-700 font-semibold"},r==null?void 0:r.tag)),e.createElement("p",{className:"text-gray-700"},r==null?void 0:r.title))))))),e.createElement("div",{className:"w-full md:w-1/2 space-y-8"},e.createElement("p",{className:"text-lg font-semibold"},"ASSETS"),e.createElement("div",{className:"w-full grid grid-cols-2 gap-4"},(n=a==null?void 0:a.assets)==null?void 0:n.map((r,p)=>e.createElement("img",{key:p,src:r,alt:a==null?void 0:a.title,className:"w-full rounded h-28 md:h-36 2xl:h-52 cursor-pointer transition-all duration-700 hover:scale-125 hover:z-50"})))))):e.createElement(e.Fragment,null,e.createElement(Ot,{activity:a==null?void 0:a.activities,id:t}))))},Ot=({activity:t,id:s})=>{const[c,a]=u.useState(le[0]),[l,o]=u.useState(""),i=async()=>{},m=({item:n})=>{var r;return e.createElement("div",{className:"flex space-x-4"},e.createElement("div",{className:"flex flex-col items-center flex-shrink-0"},e.createElement("div",{className:"w-10 h-10 flex items-center justify-center"},Ft[n==null?void 0:n.type]),e.createElement("div",{className:"w-full flex items-center"},e.createElement("div",{className:"w-0.5 bg-gray-300 h-full"}))),e.createElement("div",{className:"flex flex-col gap-y-1 mb-8"},e.createElement("p",{className:"font-semibold"},(r=n==null?void 0:n.by)==null?void 0:r.name),e.createElement("div",{className:"text-gray-500 space-y-2"},e.createElement("span",{className:"capitalize"},n==null?void 0:n.type),e.createElement("span",{className:"text-sm"},W(n==null?void 0:n.date).fromNow())),e.createElement("div",{className:"text-gray-700"},n==null?void 0:n.activity)))};return e.createElement("div",{className:"w-full flex gap-10 2xl:gap-20 min-h-screen px-10 py-8 bg-white shadow rounded-md justify-between overflow-y-auto"},e.createElement("div",{className:"w-full md:w-1/2"},e.createElement("h4",{className:"text-gray-600 font-semibold text-lg mb-5"},"Activities"),e.createElement("div",{className:"w-full"},t==null?void 0:t.map((n,r)=>e.createElement(m,{key:r,item:n,isConnected:r<t.length-1})))),e.createElement("div",{className:"w-full md:w-1/3"},e.createElement("h4",{className:"text-gray-600 font-semibold text-lg mb-5"},"Add Activity"),e.createElement("div",{className:"w-full flex flex-wrap gap-5"},le.map((n,r)=>e.createElement("div",{key:n,className:"flex gap-2 items-center"},e.createElement("input",{type:"checkbox",className:"w-4 h-4",checked:c===n,onChange:p=>a(n)}),e.createElement("p",null,n))),e.createElement("textarea",{rows:10,value:l,onChange:n=>o(n.target.value),placeholder:"Type ......",className:"bg-white w-full mt-10 border border-gray-300 outline-none p-4 rounded-md focus:ring-2 ring-blue-500"}),e.createElement(P,{type:"button",label:"Submit",onClick:i,className:"bg-blue-600 text-white rounded"}))))},Zt=({title:t,className:s})=>e.createElement("h2",{className:x("text-2xl font-semibold capitalize",s)},t),z=({label:t,className:s})=>e.createElement("div",{className:"w-full h-10 md:h-12 px-2 md:px-4 rounded bg-white flex items-center justify-between"},e.createElement("div",{className:"flex gap-2 items-center"},e.createElement("div",{className:x("w-4 h-4 rounded-full ",s)}),e.createElement("p",{className:"text-sm md:text-base text-gray-600"},t))),be=({open:t,setOpen:s,children:c})=>{const a=u.useRef(null);return React.createElement(k.Root,{show:t,as:u.Fragment},React.createElement(L,{as:"div",className:"relative z-10 w-full",initialFocus:a,onClose:()=>s(!1)},React.createElement(k.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-60 transition-opacity"})),React.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},React.createElement("div",{className:"flex h-full items-center justify-center p-4 text-center sm:p-0"},React.createElement(k.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},React.createElement(L.Panel,{className:"w-full relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all pb-0 sm:my-8 sm:w-full sm:max-w-lg"},React.createElement("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},React.createElement("div",{className:"sm:flex sm:items-start"},React.createElement("div",{className:"w-full mt-3  sm:ml-4 sm:mt-0 sm:text-left"},c)))))))))},Mt=({isPending:t,isError:s,setAssignedUser:c,assignedUser:a})=>{const[l,o]=u.useState([]),i=(m=[])=>{o(m);const n=m.map(r=>r.id);c(n)};return React.createElement("div",null,React.createElement("p",{className:"text-gray-700"},"Assign Task To: "),React.createElement(C,{value:l,onChange:m=>i(m),multiple:!0},React.createElement("div",{className:"relative mt-1"},t&&React.createElement($,null),s&&React.createElement("div",{className:"text-center text-red-500"},React.createElement("p",null,"Failed to load chart data."),React.createElement("p",null,error.message||"An unexpected error occurred.")),React.createElement(C.Button,{className:"relative w-full cursor-default rounded bg-white pl-3 pr-10 text-left px-3 py-2.5 2xl:py-3 border border-gray-300 sm:text-sm"},React.createElement("span",{className:"block truncate"},(l==null?void 0:l.map(m=>m.name).join(", "))||"Select users"),React.createElement("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},React.createElement(me,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}))),React.createElement(k,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},React.createElement(C.Options,{className:"z-50 absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},a==null?void 0:a.map((m,n)=>React.createElement(C.Option,{key:n,className:({active:r})=>x("relative cursor-default select-none py-2 pl-10 pr-4",r?"bg-amber-100 text-amber-900":"text-gray-900"),value:m},({selected:r})=>React.createElement(React.Fragment,null,React.createElement("div",{className:x("flex items-center gap-2 truncate",r?"font-medium":"font-normal")},React.createElement("div",{className:"w-6 h-6 rounded-full text-white flex items-center justify-center bg-violet-600"},React.createElement("span",{className:"text-center text-[10px]"},Z(m.name))),React.createElement("span",null,m.name)),r?React.createElement("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},React.createElement(de,{className:"h-5 w-5","aria-hidden":"true"})):null))))))))},se=({lists:t,selected:s,setSelected:c,label:a})=>e.createElement("div",{className:"w-full"},a&&e.createElement("p",{className:"text-slate-900 dark:text-gray-500"},a),e.createElement(C,{value:s,onChange:c},e.createElement("div",{className:"relative mt-1"},e.createElement(C.Button,{className:"relative w-full cursor-default rounded bg-white pl-3 pr-10 text-left px-3 py-2.5 2xl:py-3 border border-gray-300 sm:text-sm"},e.createElement("span",{className:"block truncate"},s),e.createElement("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},e.createElement(me,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}))),e.createElement(k,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},e.createElement(C.Options,{className:"z-50 absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},t.map((l,o)=>e.createElement(C.Option,{key:o,className:({active:i})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${i?"bg-amber-100 text-amber-900":"text-gray-900"}`,value:l},({selected:i})=>e.createElement(e.Fragment,null,e.createElement("span",{className:`block truncate ${i?"font-medium":"font-normal"}`},l),i?e.createElement("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},e.createElement(de,{className:"h-5 w-5","aria-hidden":"true"})):null)))))))),xe={STATUS_CHANGED:"task-status-changed",TASK_CREATED:"task-created"},ne=["PENDING","IN PROGRESS","COMPLETED"],re=["HIGH","MEDIUM","LOW"],Ee=({open:t,setOpen:s})=>{const{register:c,handleSubmit:a,formState:{errors:l},reset:o}=H(),{user:i}=v(b=>b.auth),[m,n]=u.useState([]),[r,p]=u.useState(ne[0]),[g,E]=u.useState(re[2]),{isPending:S,isError:f,data:d,error:h}=M({queryKey:["users"],queryFn:async()=>(await A.get("users")).data,enabled:i.role=="admin"}),y=U({mutationFn:b=>A.post("/tasks",b),onSuccess:async b=>{var w,R;if(console.log(b,"ssss"),b.data.status==="success"){T.success("Task added successfully!",{duration:2e3,position:"top-center"});try{const te={type:xe.TASK_CREATED,message:`A new task titled "${b.data.data.title}" has been created.`,task:b.data.data._id,assignedUser:b.data.data.assigned_users,status:(R=(w=b==null?void 0:b.data)==null?void 0:w.data)==null?void 0:R.status};await A.post("notifications",te),T.success("Notification created successfully!",{duration:2e3,position:"top-center"})}catch{T.error("Failed to create notification")}o(),n([]),p("PENDING"),E("LOW"),s(!1)}},onError:b=>{var w,R;T.error(((R=(w=b.response)==null?void 0:w.data)==null?void 0:R.message)||"Failed to add task")}}),N=async b=>{const w={...b,assignedUser:m,status:r.toLowerCase(),priority:g.toLowerCase()};y.mutate(w)};return e.createElement(e.Fragment,null,e.createElement(be,{open:t,setOpen:s},e.createElement("form",{onSubmit:a(N)},e.createElement(L.Title,{as:"h2",className:"text-base font-bold leading-6 text-gray-900 mb-4"},"ADD TASK"),e.createElement("div",{className:"mt-2 flex flex-col gap-6"},e.createElement(D,{placeholder:"Task Title",type:"text",name:"title",label:"Task Title",className:"w-full rounded",register:c("title",{required:"Title is required"}),error:l.title?l.title.message:""}),e.createElement(D,{placeholder:"Task Description",type:"text",name:"description",label:"Description",className:"w-full rounded",register:c("description",{required:"Description is required"}),error:l.description?l.description.message:""}),e.createElement(Mt,{isPending:S,isError:f,setAssignedUser:n,assignedUser:d&&(d==null?void 0:d.data)}),e.createElement("div",{className:"flex gap-4"},e.createElement(se,{label:"Task Status",lists:ne,selected:r,setSelected:p}),e.createElement("div",{className:"w-full"},e.createElement(D,{placeholder:"Date",type:"date",name:"dueDate",label:"Task Date",className:"w-full rounded",register:c("dueDate",{required:"Date is required!"}),error:l.dueDate?l.dueDate.message:""}))),e.createElement("div",{className:"flex gap-4"},e.createElement(se,{label:"Priority Level",lists:re,selected:g,setSelected:E})),e.createElement("div",{className:"bg-gray-50 py-6 sm:flex sm:flex-row-reverse gap-4"},e.createElement(P,{label:"Submit",type:"submit",className:"bg-blue-600 px-8 text-sm font-semibold text-white hover:bg-blue-700  sm:w-auto"}),e.createElement(P,{type:"button",className:"bg-white px-5 text-sm font-semibold text-gray-900 sm:w-auto",onClick:()=>s(!1),label:"Cancel"}))))))};function Bt({open:t,setOpen:s,msg:c,setMsg:a=()=>{},onClick:l=()=>{},type:o="delete",setType:i=()=>{}}){const m=()=>{i("delete"),a(null),s(!1)};return React.createElement(React.Fragment,null,React.createElement(be,{open:t,setOpen:m},React.createElement("div",{className:"py-4 w-full flex flex-col gap-4 items-center justify-center"},React.createElement(L.Title,{as:"h3",className:""},React.createElement("p",{className:x("p-3 rounded-full ",o==="restore"||o==="restoreAll"?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-200")},React.createElement(Me,{size:60}))),React.createElement("p",{className:"text-center text-gray-500"},c??"Are you sure you want to delete the selected record?"),React.createElement("div",{className:"bg-gray-50 py-3 sm:flex sm:flex-row-reverse gap-4"},React.createElement(P,{type:"button",className:x(" px-8 text-sm font-semibold text-white sm:w-auto",o==="restore"||o==="restoreAll"?"bg-yellow-600":"bg-red-600 hover:bg-red-500"),onClick:l,label:o==="restore"?"Restore":"Delete"}),React.createElement(P,{type:"button",className:"bg-white px-8 text-sm font-semibold text-gray-900 sm:w-auto border",onClick:()=>m(),label:"Cancel"})))))}const Lt=({task:t})=>{const[s,c]=u.useState(!1),[a,l]=u.useState(!1),[o,i]=u.useState(!1),m=q(),n=()=>{},r=()=>{},p=[{label:"Open Task",icon:e.createElement(qe,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),onClick:()=>m(`/task/${t._id}`)},{label:"Edit",icon:e.createElement(Ue,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),onClick:()=>l(!0)},{label:"Add Sub-Task",icon:e.createElement($e,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),onClick:()=>c(!0)},{label:"Duplicate",icon:e.createElement(ze,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),onClick:()=>duplicateHanlder()}];return e.createElement(e.Fragment,null,e.createElement("div",null,e.createElement(_,{as:"div",className:"relative inline-block text-left"},e.createElement(_.Button,{className:"inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-gray-600 "},e.createElement(Be,null)),e.createElement(k,{as:u.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},e.createElement(_.Items,{className:"absolute p-4 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},e.createElement("div",{className:"px-1 py-1 space-y-2"},p.map(g=>e.createElement(_.Item,{key:g.label},({active:E})=>e.createElement("button",{onClick:g==null?void 0:g.onClick,className:`${E?"bg-blue-500 text-white":"text-gray-900"} group flex w-full items-center rounded-md px-2 py-2 text-sm`},g.icon,g.label)))),e.createElement("div",{className:"px-1 py-1"},e.createElement(_.Item,null,({active:g})=>e.createElement("button",{onClick:()=>n(),className:`${g?"bg-blue-500 text-white":"text-red-900"} group flex w-full items-center rounded-md px-2 py-2 text-sm`},e.createElement(Le,{className:"mr-2 h-5 w-5 text-red-400","aria-hidden":"true"}),"Delete"))))))),e.createElement(Ee,{open:a,setOpen:l,task:t,key:new Date().getTime()}),e.createElement(Bt,{open:o,setOpen:i,onClick:r}))},ye=({user:t})=>e.createElement("div",{className:"px-4"},e.createElement(I,{className:"relative"},e.createElement(e.Fragment,null,e.createElement(I.Button,{className:"group inline-flex items-center outline-none"},e.createElement("span",null,Z(t==null?void 0:t.name))),e.createElement(k,{as:u.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1"},e.createElement(I.Panel,{className:"absolute left-1/2 z-10 mt-3 w-80 max-w-sm -translate-x-1/2 transform px-4 sm:px-0 "},e.createElement("div",{className:"flex items-center gap-4 rounded-lg shadow-lg bg-white p-8"},e.createElement("div",{className:"w-16 h-16 bg-blue-600 rounded-full text-white flex items-center justify-center text-2xl "},e.createElement("span",{className:"text-center font-bold"},Z(t==null?void 0:t.name))),e.createElement("div",{className:"flex flex-col gap-y-1"},e.createElement("p",{className:"text-black text-xl font-bold"},t==null?void 0:t.name),e.createElement("span",{className:"text-base text-gray-500"},t==null?void 0:t.title),e.createElement("span",{className:"text-blue-500"},(t==null?void 0:t.email)??"email@example.com")))))))),qt={high:e.createElement(G,null),medium:e.createElement(Y,null),low:e.createElement(X,null)},Ut=({task:t})=>{var m;const{user:s}=v(n=>n.auth);u.useState(!1);const{attributes:c,listeners:a,setNodeRef:l,transform:o}=Ke({id:t.id}),i=o?{transform:`translate(${o.x}px, ${o.y}px)`}:void 0;return e.createElement("div",{ref:l,...a,...c,style:i,className:"w-full  bg-white shadow-md p-4 rounded"},e.createElement("div",{className:"w-full flex justify-between"},e.createElement("div",{className:x("flex flex-1 gap-1 items-center text-sm font-medium",V[t==null?void 0:t.priority])},e.createElement("span",{className:"text-lg"},qt[t==null?void 0:t.priority]),e.createElement("span",{className:"uppercase"},t==null?void 0:t.priority," Priority")),(s==null?void 0:s.isAdmin)&&e.createElement(Lt,{task:t})),e.createElement(e.Fragment,null,e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:x("w-4 h-4 rounded-full",ee[t.status])}),e.createElement("h4",{className:"line-clamp-1 text-black"},t==null?void 0:t.title)),e.createElement("span",{className:"text-sm text-gray-600"},Nt(new Date(t==null?void 0:t.dueDate)))),e.createElement("div",{className:"w-full border-t border-gray-200 my-2"}),e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("div",{className:"flex flex-row-reverse"},(m=t==null?void 0:t.assignedUsers)==null?void 0:m.map((n,r)=>e.createElement("div",{key:r,className:x("w-7 h-7 rounded-full text-white flex items-center justify-center text-sm -mr-1",F[r%(F==null?void 0:F.length)])},e.createElement(ye,{user:n}))))))},$t=({column:t,tasks:s})=>{const{setNodeRef:c}=Je({id:t.id}),a={pending:"bg-blue-100","in progress":"bg-yellow-100",completed:"bg-green-100"};return e.createElement("div",{ref:c,className:`w-full py-4 flex flex-col gap-4 p-4 h-fit ${s.length>0?a[t.id]:""}`,style:{minHeight:"300px",position:"relative"}},s.map(l=>e.createElement(Ut,{task:l,key:l.id})))},K={todo:"bg-blue-600","in progress":"bg-yellow-600",completed:"bg-green-600"},zt=()=>{const t=oe();u.useState(0);const[s,c]=u.useState(!1),{user:a}=v(f=>f.auth),l=(t==null?void 0:t.status)||"",[o,i]=u.useState([]),{isPending:m,isError:n,data:r,error:p}=M({queryKey:["todos",a._id],queryFn:async()=>(await A.get(`tasks/?userId=${a._id}`)).data,keepPreviousData:!0}),g=U({mutationFn:({taskId:f,...d})=>A.put(`tasks/${f}`,d),onSuccess:async f=>{var d,h,y;if(console.log(f,"heiii"),f!=null&&f.data){T.success("Task Updated Successfully",{position:"top-center",duration:2e3});try{const N={type:xe.STATUS_CHANGED,message:`Status changed for "${(d=f.data)==null?void 0:d.title}" has been changed.`,task:(h=f.data)==null?void 0:h._id,assignedUser:f==null?void 0:f.data.assigned_users,status:(y=f==null?void 0:f.data)==null?void 0:y.status};await A.post("notifications",N),T.success("Notification created successfully!",{duration:2e3,position:"top-center"})}catch(N){console.log(N,"popopo"),T.error("Failed to create notification",{position:"top-center",duration:2e3})}}},onError:f=>{T.error(f.response.data.error,{position:"top-center",duration:2e3})}});u.useEffect(()=>{i(r==null?void 0:r.data)},[r]);const E=u.useMemo(()=>{if(!(r!=null&&r.data))return[];const f=r.data.filter(y=>y.status==="pending"),d=r.data.filter(y=>y.status==="in progress"),h=r.data.filter(y=>y.status==="completed");return[{label:"To Do",id:"pending",tasks:f},{label:"In Progress",id:"in progress",tasks:d},{label:"Completed",id:"completed",tasks:h}]},[o]),S=f=>{const{active:d,over:h}=f;if(!h)return;const y=d.id,N=h.id,b=o==null?void 0:o.map(w=>w.id===y?{...w,status:N}:w);i(b),g.mutate({taskId:y,status:N})};return m?e.createElement("div",{className:"py-10"},e.createElement($,null)):e.createElement("div",{className:"w-full"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement(Zt,{title:l?`${l} Tasks`:"Tasks"}),a.role==="admin"&&e.createElement(P,{onClick:()=>c(!0),label:"Create Task",icon:e.createElement(We,{className:"text-lg"}),className:"flex flex-row-reverse gap-1 items-center bg-blue-600 text-white rounded-md py-2 2xl:py-2.5"})),!l&&e.createElement("div",{className:"w-full flex justify-between gap-4 md:gap-x-12 py-4"},e.createElement(z,{label:"To Do",className:K.todo}),e.createElement(z,{label:"In Progress",className:K["in progress"]}),e.createElement(z,{label:"completed",className:K.completed})),e.createElement("div",{className:"w-full"},e.createElement(He,{onDragEnd:S},e.createElement("div",{className:"w-full flex gap-4"},E.map((f,d)=>e.createElement("div",{key:f.id,className:"flex-1"},e.createElement($t,{tasks:o.filter(h=>h.status===f.id),column:f})))))),e.createElement(Ee,{open:s,setOpen:c}))},Kt=()=>{const{user:t}=v(o=>o.auth),{isPending:s,isError:c,data:a,error:l}=M({queryKey:["chartData",t._id],queryFn:async()=>(await A.get(`dashboard/chartData?userId=${t._id}&role=${t.role}`)).data});return e.createElement(e.Fragment,null,s&&e.createElement($,null),c&&e.createElement("div",{className:"text-center text-red-500"},e.createElement("p",null,"Failed to load chart data."),e.createElement("p",null,l.message||"An unexpected error occurred.")),e.createElement(Ge,{width:"100%",height:300},e.createElement(Ye,{width:150,height:40,data:a==null?void 0:a.data},e.createElement(Xe,{dataKey:"name"}),e.createElement(Qe,null),e.createElement(Ve,null),e.createElement(et,null),e.createElement(tt,{strokeDasharray:"3 3"}),e.createElement(at,{dataKey:"total",fill:"#8884d8"}))))},Jt=({tasks:t})=>{var r;const{user:s}=v(p=>p.auth),{isPending:c,isError:a,data:l,error:o}=M({queryKey:["todos",s._id],queryFn:async()=>(await A.get(`tasks/?userId=${s._id}`)).data,keepPreviousData:!0}),i={high:e.createElement(G,null),medium:e.createElement(Y,null),low:e.createElement(X,null)},m=()=>e.createElement("thead",{className:"border-b border-gray-300 "},e.createElement("tr",{className:"text-black text-left"},e.createElement("th",{className:"py-2"},"Task Title"),e.createElement("th",{className:"py-2"},"Priority"),e.createElement("th",{className:"py-2"},"Team"),e.createElement("th",{className:"py-2 hidden md:block"},"Created At"))),n=({task:p})=>e.createElement("tr",{className:"w-full border-b border-gray-300 text-gray-600 hover:bg-gray-300/10"},e.createElement("td",{className:"py-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:x("w-4 h-4 rounded-full",ee[p.status])}),e.createElement("p",{className:"text-base text-black"},p.title))),e.createElement("td",{className:"py-2"},e.createElement("div",{className:"flex gap-1 items-center"},e.createElement("span",{className:x("text-lg",V[p.priority])},i[p.priority]),e.createElement("span",{className:"capitalize"},p.priority))),e.createElement("td",{className:"py-2"},e.createElement("div",{className:"flex"},p.assignedUsers.map((g,E)=>e.createElement("div",{key:E,className:x("w-7 h-7 rounded-full text-white flex items-center justify-center text-sm -mr-1",F[E%F.length])},e.createElement(ye,{user:g}))))),e.createElement("td",{className:"py-2 hidden md:block"},e.createElement("span",{className:"text-base text-gray-600"},W(p==null?void 0:p.date).fromNow())));return e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full md:w-2/3 bg-white px-2 md:px-4 pt-4 pb-4 shadow-md rounded"},e.createElement("table",{className:"w-full"},e.createElement(m,null),e.createElement("tbody",null,(r=l==null?void 0:l.data)==null?void 0:r.map((p,g)=>e.createElement(n,{key:g,task:p}))))))},Wt=()=>{var m,n,r,p;const{user:t}=v(g=>g.auth),{isPending:s,isError:c,data:a,error:l}=M({queryKey:["cardCount",t._id],queryFn:async()=>(await A.get(`dashboard?role=${t.role}&userId=${t._id}`)).data}),o=[{_id:"1",label:"TOTAL TASK",total:((m=a==null?void 0:a.data)==null?void 0:m.totalTasks)||0,icon:e.createElement(lt,null),bg:"bg-[#1d4ed8]"},{_id:"2",label:"COMPLETED TASK",total:((n=a==null?void 0:a.data)==null?void 0:n.completedTasks)||0,icon:e.createElement(st,null),bg:"bg-[#0f766e]"},{_id:"3",label:"TASK IN PROGRESS ",total:((r=a==null?void 0:a.data)==null?void 0:r.inProgressTasks)||0,icon:e.createElement(nt,null),bg:"bg-[#f59e0b]"},{_id:"4",label:"TODOS",total:((p=a==null?void 0:a.data)==null?void 0:p.pendingTasks)||0,icon:e.createElement(rt,null),bg:"bg-[#be185d]"}],i=({label:g,count:E,bg:S,icon:f})=>e.createElement("div",{className:"w-full h-32 bg-white p-5 shadow-md rounded-md flex items-center justify-between"},e.createElement("div",{className:"h-full flex flex-1 flex-col justify-between"},e.createElement("p",{className:"text-base text-gray-600"},g),e.createElement("span",{className:"text-2xl font-semibold"},E)),e.createElement("div",{className:x("w-10 h-10 rounded-full flex items-center justify-center text-white",S)},f));return e.createElement("div",{className:"h-full py-4"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5"},o.map(({icon:g,bg:E,label:S,total:f},d)=>e.createElement(i,{key:d,icon:g,bg:E,label:S,count:f}))),e.createElement("div",{className:"w-full bg-white my-16 p-4 rounded shadow-sm"},e.createElement("h4",{className:"text-xl text-gray-600 font-semibold"},"Chart by Priority"),e.createElement(Kt,null)),e.createElement("div",{className:"w-full flex flex-col md:flex-row gap-4 2xl:gap-10 py-8"},t.role==="admin"&&e.createElement(e.Fragment,null,e.createElement(Jt,null))))},Ht=()=>{const[t,s]=u.useState(0),[c,a]=u.useState(!0),{register:l,handleSubmit:o,formState:{errors:i},watch:m}=H(),{user:n}=v(d=>d.auth),r=q(),p=O(),g=U({mutationFn:d=>A.post("auth/sign-up",d),onSuccess:d=>{var h,y,N,b,w;d!=null&&d.data&&((h=d==null?void 0:d.data)==null?void 0:h.status)==="success"&&(p(fe({user:(N=(y=d.data)==null?void 0:y.data)==null?void 0:N.user,token:(w=(b=d.data)==null?void 0:b.data)==null?void 0:w.token})),T.success(d.data.message,{duration:2e3,position:"top-center"}),r("/"))},onError:d=>{T.error(d.response.data.message,{duration:2e3,position:"top-center"})}}),E=d=>{g.mutate(d)},S=d=>{const h=d.length,y=/[A-Z]/.test(d),N=/[a-z]/.test(d),b=/\d/.test(d),w=/[!@#$%^&*(),.?":{}|<>]/.test(d);let R=0;h>8&&R++,y&&R++,N&&R++,b&&R++,w&&R++,s(R)},f=()=>{const d=m("password"),h=m("confirmPassword");a(d===h)};return u.useEffect(()=>{const d=m("password");S(d),f()},[m("password"),m("confirmPassword")]),u.useEffect(()=>{n&&r("/dashboard")},[n]),e.createElement("div",{className:"w-full min-h-screen flex items-center justify-center flex-col lg:flex-row bg-[#f3f4f6]"},e.createElement("div",{className:"w-full md:w-auto flex gap-0 md:gap-40 flex-col md:flex-row items-center justify-center"},e.createElement("div",{className:"h-full w-full lg:w-2/3 flex flex-col items-center justify-center"},e.createElement("div",{className:"w-full md:max-w-lg 2xl:max-w-3xl flex flex-col items-center justify-center gap-5 md:gap-y-10 2xl:-mt-20"},e.createElement("span",{className:"flex gap-1 py-1 px-3 border rounded-full text-sm md:text-base bordergray-300 text-gray-600"},"Join and start managing your tasks today!"),e.createElement("p",{className:"flex flex-col gap-0 md:gap-4 text-4xl md:text-6xl 2xl:text-7xl font-black text-center text-blue-700"},e.createElement("span",null,"Create an Account"),e.createElement("span",null,"To Stay Organized")),e.createElement("div",{className:"cell"},e.createElement("div",{className:"circle rotate-in-up-left"})))),e.createElement("div",{className:"w-full md:w-1/3 p-4 md:p-1 flex flex-col justify-center items-center"},e.createElement("form",{onSubmit:o(E),className:"form-container w-full md:w-[400px] flex flex-col gap-y-8 bg-white px-10 pt-14 pb-14"},e.createElement("div",null,e.createElement("p",{className:"text-blue-600 text-3xl font-bold text-center"},"Sign Up"),e.createElement("p",{className:"text-center text-base text-gray-700"},"Start your journey with us.")),e.createElement("div",{className:"flex flex-col gap-y-5"},e.createElement(D,{placeholder:"Your name",type:"text",name:"name",label:"Full Name",className:"w-full rounded-full",register:l("name",{required:"Full Name is required!"}),error:i.name?i.name.message:""}),e.createElement(D,{placeholder:"email@example.com",type:"email",name:"email",label:"Email Address",className:"w-full rounded-full",register:l("email",{required:"Email Address is required!"}),error:i.email?i.email.message:""}),e.createElement(D,{placeholder:"your password",type:"password",name:"password",label:"Password",className:"w-full rounded-full",register:l("password",{required:"Password is required!"}),error:i.password?i.password.message:""}),e.createElement("div",{className:"w-full h-2 mb-4 bg-gray-200 rounded-full"},e.createElement("div",{className:`h-full rounded-full ${t===0?"bg-red-600":t===1||t===2?"bg-yellow-500":t===3?"bg-blue-500":"bg-green-500"}`})),e.createElement("span",{className:"text-sm"},"Password strength:"," ",t===0?"Weak":t===1?"Fair":t===2?"Good":t===3?"Strong":"Very Strong"),e.createElement(D,{placeholder:"Confirm your password",type:"password",name:"confirmPassword",label:"Confirm Password",className:"w-full rounded-full",register:l("confirmPassword",{required:"Please confirm your password!"}),error:i.confirmPassword?i.confirmPassword.message:""}),!c&&e.createElement("span",{className:"text-red-500 text-sm"},"Passwords do not match!"),e.createElement(P,{type:"submit",label:"Sign Up",className:"w-full h-10 bg-blue-700 text-white rounded-full"}),e.createElement("span",{className:"text-sm text-gray-500 hover:text-blue-600 hover:underline cursor-pointer text-center",onClick:()=>r("/log-in")},"Already have an account? Login"))))))};function Gt(){const{user:t}=v(c=>c.auth),s=ce();return t?React.createElement("div",{className:"w-full h-screen flex flex-col md:flex-row"},React.createElement("div",{className:"w-1/5 h-screen bg-white sticky top-0 hidden md:block"},React.createElement(ge,null)),React.createElement(Yt,null),React.createElement("div",{className:"flex-1 overflow-y-auto"},React.createElement(At,null),React.createElement("div",{className:"p-4 2xl:px-10"},React.createElement(ot,null)))):React.createElement(ue,{to:"/log-in",state:{from:s},replace:!0})}const Yt=()=>{const{isSidebarOpen:t}=v(l=>l.auth),s=u.useRef(null),c=O(),a=()=>{c(Q(!1))};return React.createElement(React.Fragment,null,React.createElement(k,{show:t,as:u.Fragment,enter:"transition-opacity duration-700",enterFrom:"opacity-x-10",enterTo:"opacity-x-100",leave:"transition-opacity duration-700",leaveFrom:"opacity-x-100",leaveTo:"opacity-x-0"},l=>React.createElement("div",{ref:o=>s.current=o,className:x("md:hidden w-full h-full bg-black/40 transition-all duration-700 transform ",t?"translate-x-0":"translate-x-full"),onClick:()=>a()},React.createElement("div",{className:"bg-white w-3/4 h-full"},React.createElement("div",{className:"w-full flex justify-end px-5 mt-5"},React.createElement("button",{onClick:()=>a(),className:"flex justify-end items-end"},React.createElement(mt,{size:25}))),React.createElement("div",{className:"-mt-10"},React.createElement(ge,null))))))};function Xt(){return React.createElement("main",{className:"w-full min-h-screen bg-[#f3f4f6] "},React.createElement(ct,null,React.createElement(j,{element:React.createElement(Gt,null)},React.createElement(j,{index:!0,path:"/",element:React.createElement(ue,{to:"/dashboard"})}),React.createElement(j,{path:"/dashboard",element:React.createElement(Wt,null)}),React.createElement(j,{path:"/tasks",element:React.createElement(zt,null)}),React.createElement(j,{path:"/task/:id",element:React.createElement(It,null)})),React.createElement(j,{path:"/log-in",element:React.createElement(kt,null)}),React.createElement(j,{path:"/sign-up",element:React.createElement(Ht,null)})),React.createElement(it,{richColors:!0}))}const Qt="http://localhost:8800/api",Vt=dt({baseUrl:Qt}),J=ut({baseQuery:Vt,tagTypes:[],endpoints:t=>({})}),ea=pt({reducer:{[J.reducerPath]:J.reducer,auth:vt},middleware:t=>t().concat(J.middleware),devTools:!0}),ta=new ft;gt.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(bt,{store:ea},e.createElement(xt,null,e.createElement(Et,{client:ta},e.createElement(Xt,null)),","))));
